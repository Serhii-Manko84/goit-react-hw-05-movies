(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[863],{863:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return S}});var r=n(861),a=n(439),c=n(757),o=n.n(c),u=n(673),i=n(791),s=n(7),p=n.n(s),f=n(87),d=n(184),h=function(e){var t=e.movies,n=e.prevLocation;return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("ul",{children:null===t||void 0===t?void 0:t.map((function(e){var t;return(0,d.jsx)("li",{children:(0,d.jsx)(f.rU,{to:"/movies/".concat(e.id),state:{from:n},children:(0,d.jsx)("p",{children:null!==(t=e.title)&&void 0!==t?t:e.name})})},e.id)}))})})};h.protoType={movies:p().arrayOf(p().shape({id:p().number.isRequired,title:p().string,name:p().string})).isRequired,prevLocation:Object.isRequired};var l=h,v="SearchBar_searchForm__V6XO6",m="SearchBar_searchInput__S8ff+",g="SearchBar_searchButton__hgPYE",y=function(e){var t=e.onSearch,n=(0,i.useState)(""),r=(0,a.Z)(n,2),c=r[0],o=r[1];return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""===c.trim()&&alert("Enter the film title"),t(c),o("")},className:v,children:[(0,d.jsx)("input",{type:"text",name:"searchQuery",value:c,autoComplete:"off",autoFocus:!0,placeholder:"Search...",onChange:function(e){o(e.target.value.toLowerCase())},className:m}),(0,d.jsx)("button",{type:"submit",className:g,children:"Search"})]})})};y.protoType={onSearch:p().func.isRequired};var b=y,x=n(689),_=n(390);var S=function(){var e=(0,f.lr)(),t=(0,a.Z)(e,2),n=t[0],c=t[1],s=(0,i.useState)([]),p=(0,a.Z)(s,2),h=p[0],v=p[1],m=(0,i.useState)(""),g=(0,a.Z)(m,2),y=g[0],S=g[1],w=(0,i.useState)(!1),k=(0,a.Z)(w,2),j=k[0],Z=k[1],T=(0,x.TH)(),O=n.get("query");return(0,i.useEffect)((function(){if(O){var e=function(){var e=(0,r.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Z(!0),e.next=4,(0,_.V0)(O);case 4:t=e.sent,v(t),t.length||alert("Your movies were not found!"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),S(e.t0.message);case 12:return e.prev=12,Z(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(){return e.apply(this,arguments)}}();e()}}),[O]),(0,d.jsxs)(d.Fragment,{children:[j&&(0,d.jsx)(u.Z,{}),y&&(0,d.jsx)("div",{children:y}),(0,d.jsx)(b,{onSearch:function(e){c({query:"".concat(e)})}}),h&&(0,d.jsx)(l,{movies:h,prevLocation:T})]})}},390:function(e,t,n){"use strict";n.d(t,{Df:function(){return u},M1:function(){return p},TP:function(){return s},V0:function(){return i},tx:function(){return f}});var r=n(861),a=n(757),c=n.n(a),o=n(263),u=function(){var e=(0,r.Z)(c().mark((function e(){var t,n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.themoviedb.org/3/trending/all/day","a43431b6830a1c67f45a08c68d23509d",t="?api_key=".concat("a43431b6830a1c67f45a08c68d23509d"),e.next=5,o.Z.get("".concat("https://api.themoviedb.org/3/trending/all/day").concat(t));case 5:return n=e.sent,r=n.data,e.abrupt("return",r.results);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=(0,r.Z)(c().mark((function e(t){var n,r,a,u,i,s=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:1,r="https://api.themoviedb.org/3/search/movie",a="?api_key=".concat("a43431b6830a1c67f45a08c68d23509d","&query=").concat(t,"&language=en-US&page=").concat(n,"&include_adult=false"),e.next=6,o.Z.get("".concat(r).concat(a));case 6:return u=e.sent,i=u.data,e.abrupt("return",i.results);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=(0,r.Z)(c().mark((function e(t){var n,r,a,u;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://api.themoviedb.org/3/movie/".concat(t),"a43431b6830a1c67f45a08c68d23509d",r="?api_key=".concat("a43431b6830a1c67f45a08c68d23509d","&language=en-US"),e.next=5,o.Z.get("".concat(n).concat(r));case 5:return a=e.sent,u=a.data,e.abrupt("return",u);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.Z)(c().mark((function e(t){var n,r,a,u;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://api.themoviedb.org/3/movie/".concat(t,"/credits"),"a43431b6830a1c67f45a08c68d23509d",r="?api_key=".concat("a43431b6830a1c67f45a08c68d23509d","&language=en-US"),e.next=5,o.Z.get("".concat(n).concat(r));case 5:return a=e.sent,u=a.data,e.abrupt("return",u.cast);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.Z)(c().mark((function e(t){var n,r,a,u;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://api.themoviedb.org/3/movie/".concat(t,"/reviews"),"a43431b6830a1c67f45a08c68d23509d",r="?api_key=".concat("a43431b6830a1c67f45a08c68d23509d","&language=en-US&page=1"),e.next=5,o.Z.get("".concat(n).concat(r));case 5:return a=e.sent,u=a.data,e.abrupt("return",u.results);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},888:function(e,t,n){"use strict";var r=n(47);function a(){}function c(){}c.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,c,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:c,resetWarningCache:a};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}}]);
//# sourceMappingURL=863.b4849f46.chunk.js.map